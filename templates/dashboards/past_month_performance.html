{% extends "base.html" %}
{% block title %}{{ month_label }} Performance{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-4">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-semibold">{{ month_label }} — Product-wise</h1>
    <a href="{% url 'clients:employee_past_performance' %}" class="text-sm text-gray-600 hover:underline">Back</a>
  </div>

  <div class="bg-white rounded-2xl shadow p-6">
    <table class="min-w-full table-auto">
      <thead>
        <tr>
          <th class="px-4 py-2 text-left">Product</th>
          <th class="px-4 py-2 text-right">Amount</th>
          <th class="px-4 py-2 text-right">Points</th>
          <th class="px-4 py-2 text-right">Target</th>
          <th class="px-4 py-2 text-right">Achieved</th>
        </tr>
      </thead>
      <tbody class="divide-y">
        {% for p in products %}
        <tr>
          <td class="px-4 py-3">{{ p.product }}</td>
          <td class="px-4 py-3 text-right">₹{{ p.total_amount|default:0 }}</td>
          <td class="px-4 py-3 text-right">{{ p.total_points }}</td>
          <td class="px-4 py-3 text-right">{% if p.target_value %}₹{{ p.target_value }}{% else %}-{% endif %}</td>
          <td class="px-4 py-3 text-right">{% if p.achieved_value %}₹{{ p.achieved_value }}{% else %}-{% endif %}</td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="px-4 py-4 text-center text-gray-500">No data for this month.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
